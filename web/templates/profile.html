<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="apple-touch-icon" sizes="180x180" href="/static/favicons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/static/favicons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/static/favicons/favicon-16x16.png">
  <link rel="manifest" href="/static/favicons/site.webmanifest">
  <link rel="mask-icon" href="/static/favicons/safari-pinned-tab.svg" color="#5bbad5">
  <link rel="shortcut icon" href="/static/favicons/favicon.ico">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="msapplication-config" content="/static/favicons/browserconfig.xml">
  <meta name="theme-color" content="#ffffff">

  <title>ACS For Schools | Profile</title>

  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet" />
  <link href="/static/css/nucleo-icons.css" rel="stylesheet" />
  <link href="/static/css/nucleo-svg.css" rel="stylesheet" />

  <script src="https://kit.fontawesome.com/a9e455503e.js" crossorigin="anonymous"></script>
  <link href="/static/css/nucleo-svg.css" rel="stylesheet" />
  <link id="pagestyle" href="/static/css/5916e8d202d96962.css" rel="stylesheet" />
  <link rel="stylesheet" href="/static/css/argon-dashboard-tailwind.min.css" />
  <link id="pagestyle" href="/static/css/argon-dashboard.css?v=2.0.4" rel="stylesheet" />

  <script src="/static/js/script.js"></script>

  <script type="text/javascript" src="https://MomentJS.com/downloads/moment.js"></script>
  <script type="text/javascript" src="/static/js/moment-timezone-with-data.js.js"></script>
  <script>
    update_timezone()
  </script>

  <link href="/static/css/toast.min.css" rel="stylesheet">
  <script src="/static/js/toast.js"></script>

  <link rel="stylesheet" href="/static/css/style.css">
</head>

<body class="g-sidenav-show bg-gray-100">
  <div id="bg-primary" class="min-height-300 bg-primary position-absolute w-100 active">
    <span class="mask bg-primary opacity-6"></span>
  </div>
  <aside
    class="sidenav bg-white navbar navbar-vertical navbar-expand-xs border-0 border-radius-xl my-3 fixed-start ms-4 "
    id="sidenav-main">
    <!-- Logo -->
    <div class="sidenav-header">
      <i class="fas fa-times p-3 cursor-pointer text-secondary opacity-5 position-absolute end-0 top-0 d-xl-none"
        aria-hidden="true" id="iconSidenav"></i>
      <div class="main-logo">
        <img src="/static/img/logo.png" alt="main logo" style="max-width: 100%;">
      </div>
    </div>
    <!-- End Logo -->
    <hr class="horizontal dark mt-0">
    <div class="collapse navbar-collapse  w-auto " id="sidenav-collapse-main">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link " href="/dashboard/">
            <div
              class="icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center">
              <i class="ni ni-tv-2 text-primary text-sm opacity-10"></i>
            </div>
            <span class="nav-link-text ms-1">Dashboard</span>
          </a>
        </li>
        {% if user_type == 0 %}
        <li class="nav-item">
          <a class="nav-link " href="/admin-teachers-list/">
            <div
              class="icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center">
              <i class="ni ni-archive-2 text-dark text-sm opacity-10"></i>
            </div>
            <span class="nav-link-text ms-1">Teachers list</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="/admin-students-list/">
            <div
              class="icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center">
              <i class="fa-solid fa-address-book text-dark text-sm opacity-10"></i>
            </div>
            <span class="nav-link-text ms-1">Students list</span>
          </a>
        </li>
        {% endif %}
        <li class="nav-item">
          {% if user_type == 0 %}
          <a class="nav-link " href="/admin-schedule/">
            <div
              class="icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center">
              <i class="ni ni-calendar-grid-58 text-warning text-sm opacity-10"></i>
            </div>
            <span class="nav-link-text ms-1">Schedule</span>
          </a>
          {% elif user_type == 1 %}
          <a class="nav-link " href="/teacher-schedule/">
            <div
              class="icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center">
              <i class="ni ni-calendar-grid-58 text-warning text-sm opacity-10"></i>
            </div>
            <span class="nav-link-text ms-1">Schedule</span>
          </a>
          {% endif %}
        </li>
        <li class="nav-item mt-3">
          <h6 class="ps-4 ms-2 text-uppercase text-xs font-weight-bolder opacity-6">Account pages</h6>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="/profile">
            <div
              class="icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center">
              <i class="ni ni-single-02 text-dark text-sm opacity-10"></i>
            </div>
            <span class="nav-link-text ms-1">
              Profile
              {% if user_type == 0 %}
              (Admin)
              {% elif user_type == 1 %}
              (Teacher)
              {% endif %}
            </span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="/logout">
            <div
              class="icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center">
              <i class="ni ni-single-copy-04 text-warning text-sm opacity-10"></i>
            </div>
            <span class="nav-link-text ms-1">Logout</span>
          </a>
        </li>
      </ul>
    </div>
  </aside>
  <div class="main-content position-relative max-height-vh-100 h-100">
    <!-- Navbar -->
    <nav class="navbar navbar-main navbar-expand-lg px-0 mx-4 shadow-none border-radius-xl " id="navbarBlur"
      data-scroll="false">
      <div class="container-fluid py-1 px-3">
        <nav aria-label="breadcrumb">
          <h6 class="font-weight-bolder text-white mb-0">Profile</h6>
        </nav>
        <div class="collapse navbar-collapse mt-sm-0 mt-2 me-md-0 me-sm-4" id="navbar">
          <div class="ms-md-auto pe-md-3 d-flex align-items-center"></div>
          <ul class="navbar-nav  justify-content-end">
            <li class="nav-item d-flex align-items-center">
              <a href="/logout" class="nav-link text-white font-weight-bold px-0">
                <i class="fa fa-user me-sm-1" aria-hidden="true"></i>
                <span class="d-sm-inline" style="margin-left: 3px;">Logout</span>
              </a>
            </li>
            <li class="nav-item d-xl-none ps-3 d-flex align-items-center">
              <a href="javascript:;" class="nav-link text-white p-0" id="iconNavbarSidenav">
                <div class="sidenav-toggler-inner">
                  <i class="sidenav-toggler-line bg-white"></i>
                  <i class="sidenav-toggler-line bg-white"></i>
                  <i class="sidenav-toggler-line bg-white"></i>
                </div>
              </a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <!-- End Navbar -->
    <div class="container-fluid py-4">
      <div class="row">
        <div class="col-md-8">
          <div class="card">
            <div class="card-header pb-0">
              <div class="d-flex align-items-center">
                <p class="mb-0">Edit Profile</p>
                {% if is_can_changind == 1 %}
                <button id="save-btn" class="btn btn-primary btn-sm ms-auto" onclick="saveUserData()">Save</button>
                {% endif %}
              </div>
            </div>
            <div class="card-body">
              <p class="text-uppercase text-sm">User Information</p>
              {% if is_can_changind == 1 %}
              <div class="row">
                <div class="col-md-6">
                  <div class="form-group">
                    <label for="example-text-input" class="form-control-label">Login</label>
                    <input id="login-input" class="form-control" type="text" value="{{ user_login }}">
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-group">
                    <label for="example-text-input" class="form-control-label">Password</label>
                    <div style="position: relative;">
                      <input id="password-input" class="form-control" type="password" value="{{ user_password }}">
                      <span id="show-password-btn" style="cursor: pointer; position: absolute; top: 7px; right: 2%;"
                        onclick="show_password()">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                          class="feather feather-eye" style="scale: 0.8;">
                          <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z" />
                          <circle cx="12" cy="12" r="3" />
                        </svg>
                      </span>
                      <span id="hide-password-btn"
                        style="cursor: pointer; position: absolute; top: 7px; right: 2%; display: none;"
                        onclick="hide_password()">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                          class="feather feather-eye-off" style="scale: 0.8;">
                          <path
                            d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24" />
                          <line x1="1" y1="1" x2="23" y2="23" />
                        </svg>
                      </span>
                    </div>
                  </div>
                </div>
              </div>
              {% endif %}
              <div class="row">
                <div class="col-md">
                  <div class="form-group">
                    <label for="example-text-input" class="form-control-label">Last name</label>
                    <input id="last_name-input" class="form-control" type="text" value="{{ last_name }}"
                      onchange="this.value = `${this.value.charAt(0).toUpperCase()}${this.value.slice(1).toLowerCase()}`">
                  </div>
                </div>
                <div class="col-md">
                  <div class="form-group">
                    <label for="example-text-input" class="form-control-label">First name</label>
                    <input id="first_name-input" class="form-control" type="text" value="{{ first_name }}"
                      onchange="this.value = `${this.value.charAt(0).toUpperCase()}${this.value.slice(1).toLowerCase()}`">
                  </div>
                </div>
                <div class="col-md">
                  <div class="form-group">
                    <label for="example-text-input" class="form-control-label">Middle name</label>
                    <input id="middle_name-input" class="form-control" type="text" value="{{ middle_name }}"
                      onchange="this.value = `${this.value.charAt(0).toUpperCase()}${this.value.slice(1).toLowerCase()}`">
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md">
                  <div class="form-group">
                    <label for="example-text-input" class="form-control-label">Email address</label>
                    <input id="mail-input" class="form-control" type="email" value="{{ mail }}">
                  </div>
                </div>
                <div class="col-md">
                  <div class="form-group">
                    <label for="example-text-input" class="form-control-label">Phone number</label>
                    <input id="phone-input" class="form-control phone-input" type="tel" value="{{ phone }}"
                      maxlength="18">
                  </div>
                </div>
              </div>
              {% if not is_other_profile %}
              <div class="row">
                <div class="col-md-6" style="width: 100%;">
                  <div class="form-check form-check-info text-start">
                    <input class="form-check-input" type="checkbox" id="flexCheckDefault">
                    <label class="form-check-label" for="flexCheckDefault">
                      Enable two-factor authentication
                    </label>
                  </div>
                </div>
              </div>
              <div id="2fa-container-disabled" class="2fa-container-disabled" style="display: none;">
                <hr class="horizontal dark">
                <p class="text-uppercase text-sm">2FA Authentication</p>
                <div class="row" style="margin-bottom: 0;">
                  <div class="col-md-6" style="width: 100%;">
                    <label class="form-check-label" style="cursor: auto;">
                      1) Download the code generator app (<span class="font-weight-bold">Google Authenticator</span>) on
                      your phone<br>
                      2) Scan this QR code/copy the secret key in your code generator app<br>
                      3) Enter verification code below
                    </label>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-6">
                    <img src="/static/qr-codes/{{ user_secret }}.png" alt="qr-code" style="width: 250px;">
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-6" style="width: 350px;">
                    <div class="form-group">
                      <label for="example-text-input" class="form-control-label">Your Secret Key</label>
                      <div style="position: relative;" onclick="copyText('{{ user_secret }}', 'Secret token')">
                        <input id="token" class="form-control" type="text" value="{{ user_secret }}" disabled>
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                          class="feather feather-copy-token"
                          style="cursor: pointer; position: absolute; top: 9px; right: 2%; scale: 0.8;">
                          <rect x="9" y="9" width="13" height="13" rx="2" ry="2" />
                          <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" />
                        </svg>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-6" style="width: 200px;">
                    <div class="form-group">
                      <label for="example-text-input" class="form-control-label">Enter Verification Code</label>
                      <input id="confirmation-code" class="form-control 2fa-input" type="text" maxlength="6"
                        autocomplete="off">
                    </div>
                    <button id="check-btn" class="btn btn-primary btn-sm ms-auto" onclick="verifyCode()">Check</button>
                  </div>
                </div>
              </div>
              <div id="2fa-container-enabled" class="2fa-container-enabled" style="display: none;">
                <hr class="horizontal dark">
                <p class="text-uppercase text-sm">2FA Authentication Enabled</p>
                <div class="row">
                  <div class="col-md-6" style="width: 100%;">
                    <div class="form-group">
                      <label for="example-text-input" class="form-control-label">Recovery code (you will need it to
                        recover your account)</label>
                      <div style="position: relative; max-width: 200px;">
                        <input class="form-control" type="text" value="{{ recovery_code }}" disabled>
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                          class="feather feather-copy-recovery"
                          style="cursor: pointer; position: absolute; top: 9px; right: 6px; scale: 0.9;"
                          onclick="copyText('{{ recovery_code }}', 'Recovery code')">
                          <rect x="9" y="9" width="13" height="13" rx="2" ry="2" />
                          <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" />
                        </svg>
                      </div>
                    </div>
                    <button id="disable-btn" class="btn btn-sm ms-auto disable-btn"
                      onclick="disable2FA()">Disable</button>
                  </div>
                </div>
              </div>
              {% endif %}
              {% if (user_type == 0 and is_other_profile) or (user_type == 1 and (not is_other_profile)) %}
              <hr class="horizontal dark">
              <p class="text-uppercase text-sm">Delete Account</p>
              <div class="row" style="margin-bottom: 0;">
                <div class="col-md-6 w-100">
                  <label class="form-check-label ml-auto" style="cursor: auto;">
                    Once you delete your account, there is no going back. Please be certain.
                  </label>
                </div>
              </div>
              <div class="row">
                <div class="col-md-6 flex w-100">
                  <div class="min-h-6 mb-0.5 flex items-center">
                    <input id="confirm-input" style="width: 2.5rem !important;"
                      class="rounded-10 duration-300 ease-in-out after:rounded-circle after:shadow-2xl after:duration-300 checked:after:translate-x-5.3 h-5 mt-0.5 relative float-left w-10 cursor-pointer appearance-none border border-solid border-gray-200 bg-slate-800/10 bg-none bg-contain bg-left bg-no-repeat align-top transition-all after:absolute after:top-px after:h-4 after:w-4 after:translate-x-px after:bg-white after:content-[''] checked:border-blue-500/95 checked:bg-blue-500/95 checked:bg-none checked:bg-right"
                      type="checkbox" />
                    <div class="ml-2">
                      <span
                        class="block text-sm font-semibold leading-normal text-slate-700 dark:text-white">Confirm</span>
                      <span class="block text-xs leading-tight">
                        I want to delete {% if is_other_profile %}this{% else %}my{% endif %} account.</span>
                    </div>
                  </div>
                  <button class="btn btn-danger btn-sm ms-auto" onclick="delete_account(this)">Delete account</button>
                </div>
              </div>
              {% endif %}
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="card card-profile" style="height: auto;">
            <img src="/static/img/bg-profile.jpg" alt="Image placeholder" class="card-img-top">
            <div class="row justify-content-center">
              <div class="col-4 col-lg-4 order-lg-2">
                <div class="mt-n4 mt-lg-n6 mb-4 mb-lg-0" style="position: relative;">
                  <a onclick="document.getElementById('fileUpload').click();" style="cursor: pointer;">
                    <img id="user-avatar" src="{{ user_avatar_path }}"
                      class="rounded-circle img-fluid border border-2 border-white">
                  </a>
                  {% if is_can_changind == 1 %}
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="red" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" id="remove-user-avatar"
                    class="feather feather-trash-2"
                    style="{% if not is_have_avatar %}display: none;{% endif %} cursor: pointer; position: absolute; right: 7%; bottom: 7%; background-color: rgb(255 208 208); border-radius: 20px; padding: 4px; scale: 1.2;"
                    onclick="removeUserAvatar()">
                    <polyline points="3 6 5 6 21 6" />
                    <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" />
                    <line x1="10" y1="11" x2="10" y2="17" />
                    <line x1="14" y1="11" x2="14" y2="17" />
                  </svg>
                  <input type="file" id="fileUpload" accept="image/jpg, image/png, image/jpeg" style="display: none;">
                  {% endif %}
                </div>
              </div>
            </div>
            <div class="card-body pt-0">
              <div class="text-center mt-4">
                <h5 id="user_card_title">
                  {{ first_name }} {{ last_name }}
                </h5>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <footer class="pt-4">
      <div class="w-full px-6 mx-auto">
        <div class="flex flex-wrap items-center -mx-3 lg:justify-between">
          <div class="w-full max-w-full px-3 mt-0 mb-6 shrink-0 lg:mb-0 lg:w-1/2 lg:flex-none" style="width: 100%;">
            <div class="text-sm leading-normal text-center copyright text-slate-500 lg:text-left">
              ©
              <script>
                document.write(new Date().getFullYear())
              </script>,
              made with <i class="fa fa-heart"></i> by
              <a href="https://www.creative-tim.com" class="font-weight-bold" target="_blank">Creative Tim</a>
              for a better web.
            </div>
          </div>
        </div>
      </div>
    </footer>
  </div>
  <!--   Core JS Files   -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="/static/js/core/popper.min.js"></script>
  <script src="/static/js/core/bootstrap.min.js"></script>
  <script src="/static/js/plugins/perfect-scrollbar.min.js"></script>
  <script src="/static/js/plugins/smooth-scrollbar.min.js"></script>
  <script>
    var win = navigator.platform.indexOf('Win') > -1;
    if (win && document.querySelector('#sidenav-scrollbar')) {
      var options = {
        damping: '0.5'
      }
      Scrollbar.init(document.querySelector('#sidenav-scrollbar'), options);
    }
  </script>
  <!-- Github buttons -->
  <script async defer src="https://buttons.github.io/buttons.js"></script>
  <!-- Control Center for Soft Dashboard: parallax effects, scripts for the example pages etc -->
  <script src="/static/js/argon-dashboard.min.js?v=2.0.4"></script>

  <script src="/static/js/script.js"></script>

  <script>
    var user_id = "{{ user_id }}";
    var default_user_avatar = "{{ default_user_avatar }}";
    var redirect_time = Number("{{ get_redirect_time() }}");

    var last_phone_number = document.getElementById("phone-input").value;

    if (Number("{{ is_2fa_enabled }}") == 1) {
      document.getElementById("flexCheckDefault").checked = true;
      document.getElementById("flexCheckDefault").disabled = true;
      document.getElementById("2fa-container-enabled").style.display = "block";
    }

    // if (Number("{{ is_have_avatar }}") == 0 && Number("{{ is_can_changind }}") == 1) {
    //   document.getElementById("remove-user-avatar").style.display = "none";
    // }

    if (Number("{{ is_can_changind }}") == 0) {
      document.getElementById("first_name-input").disabled = true;
      document.getElementById("last_name-input").disabled = true;
      document.getElementById("middle_name-input").disabled = true;
      document.getElementById("mail-input").disabled = true;
      document.getElementById("phone-input").disabled = true;
    }

    $('body').on('input', 'input.2fa-input', function () {
      var new_value = "";
      for (let i = 0; i < this.value.length; i++) {
        if (this.value.charAt(i) in [1, 2, 3, 4, 5, 6, 7, 8, 9, 0]) {
          new_value += this.value.charAt(i);
        }
      }
      this.value = new_value;
    });

    $('body').on('input', 'input.phone-input', function () {
      if (this.value.length == last_phone_number.length - 1 && this.value == last_phone_number.slice(0, -1)) {
        if (last_phone_number.charAt(last_phone_number.length - 2) in [1, 2, 3, 4, 5, 6, 7, 8, 9, 0]) {
          this.value = last_phone_number.slice(0, -1);
        } else {
          if (last_phone_number.charAt(last_phone_number.length - 3) in [1, 2, 3, 4, 5, 6, 7, 8, 9, 0]) {
            this.value = last_phone_number.slice(0, -2);
          } else {
            this.value = last_phone_number.slice(0, -3);
          }
        }
      } else {
        var new_value = "";
        for (let i = 0; i < this.value.length; i++) {
          if (this.value.charAt(i) in [1, 2, 3, 4, 5, 6, 7, 8, 9, 0]) {
            new_value += this.value.charAt(i);
          }
        }
        this.value = formatPhoneNumber(new_value);
      }
      last_phone_number = this.value;
    });

    $('body').on('input', 'input.form-check-input', function () {
      if (this.checked) {
        document.getElementById("2fa-container-disabled").style.display = "block";
      } else {
        document.getElementById("2fa-container-disabled").style.display = "none";
      }
    });

    $("#confirmation-code").keyup(function (event) {
      if (event.keyCode == 13) {
        verifyCode()
      }
    });

    const handleImageUpload = event => {
      const files = event.target.files
      const formData = new FormData()
      formData.append('myFile', files[0])

      fetch('/saveImage/?user_id=' + user_id, {
        method: 'POST',
        body: formData
      })
        .then(response => response.json())
        .then(data => {
          console.log(data.path)
          if (data.is_wrong_extension) {
            alert("Wrong file extension (it's can be: .pnd, .jpg, .jpeg)!");
          } else {
            if (data.is_changed) {
              document.getElementById("user-avatar").src = data.path;
              document.getElementById("user-avatar").srcset = data.path;
            } else {
              document.getElementById("user-avatar").src = default_user_avatar;
              document.getElementById("user-avatar").srcset = default_user_avatar;
            }
            document.getElementById("remove-user-avatar").style.display = "block";
          }
          document.getElementById("fileUpload").value = ""
        })
        .catch(error => {
          console.error(error)
        })
    }

    if (Number("{{ is_can_changind }}") == 1) {
      document.querySelector('#fileUpload').addEventListener('change', event => {
        handleImageUpload(event)
      })
    }
  </script>
</body>

</html>